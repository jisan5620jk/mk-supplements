<style>
  .banner-swiper {
      width: 100%;
      position: relative;
      overflow: hidden;
  }
  .banner-slider {
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
  }
  .banner-content {
      text-align: left;
      color: #fff;
      max-width: 1180px;
      padding: 20px;
  }
  .banner-content h1 {
      font-family: 'NewKansas-Regular';
      color: #fff;
      font-weight: 600;
      font-size: 72px;
      line-height: 90px;
      margin-bottom: 20px;
  }
  .shop-now-button {
      background-color: #ffcc00;
      color: #000;
      padding: 12px 24px;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 600;
      display: inline-block;
      margin-bottom: 15px;
  }
  .customer-count {
      font-size: 1rem;
      margin-top: 10px;
  }
  .stars {
      color: gold;
      margin-right: 5px;
  }
  .banner-content * {
      transform: translateY(-100px);
      opacity: 0;
      transition: transform 0.8s ease, opacity 0.8s ease;
  }
  .swiper-slide-active .banner-content * {
      transform: translateY(0);
      opacity: 1;
  }
</style>

<div class="swiper-container banner-swiper {% if section.settings.enable_boxed_section %}boxed-section{% endif %}">
  <div class="swiper-wrapper">
    {% for block in section.blocks %}
      <div
        class="swiper-slide banner-slider"
        style="background-image: url('{{ block.settings.background_image | img_url: 'master' }}');"
      >
        <div class="banner-content">
          <h1>{{ block.settings.headline }}</h1>
          <a href="{{ block.settings.shop_link }}" class="shop-now-button">SHOP NOW</a>

          <div class="customer-count">
            {% for app_block in block.blocks %}
              {% if app_block.type == '@app' %}
                {% render app_block %}
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const swiper = new Swiper('.banner-swiper', {
        loop: true,
        speed: {{ section.settings.slider_speed | default: 800 }},
        effect: 'fade',
        fadeEffect: { crossFade: true },
        autoplay: {
            delay: {{ section.settings.autoplay_delay | default: 5000 }},
            disableOnInteraction: false
        },
    });
  });
</script>

{% schema %}
{
  "name": "Banner Slider",
  "settings": [
    {
      "type": "checkbox",
      "id": "enable_boxed_section",
      "label": "Enable Boxed Section",
      "default": true
    },
    {
      "type": "number",
      "id": "slider_speed",
      "label": "Slide Transition Speed (ms)",
      "default": 1500
    },
    {
      "type": "number",
      "id": "autoplay_delay",
      "label": "Autoplay Delay (ms)",
      "default": 5000
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "background_image",
          "label": "Background Image"
        },
        {
          "type": "text",
          "id": "headline",
          "label": "Headline Text",
          "default": "Daily energy, stamina & recovery from bison organ power."
        },
        {
          "type": "url",
          "id": "shop_link",
          "label": "Shop Now Button Link",
          "default": "/collections/all"
        }
      ]
    },
    {
      "type": "@app"
    }
  ],
  "presets": [
    {
      "name": "Banner Slider",
      "category": "Hero",
      "blocks": [{ "type": "slide" }, { "type": "slide" }]
    }
  ]
}
{% endschema %}
